
> telegram-moderation-bot@2.0.0 dev
> tsx watch src/index.ts

[32minfo[39m: Initializing Telegram bot... {"label":"Main","timestamp":"2026-02-11T07:46:29.805Z"}
[33mwarn[39m: Failed to connect to database â€” running without database: password authentication failed for user "username" {"code":"28P01","file":"auth.c","label":"Database","length":104,"line":"334","name":"error","routine":"auth_failed","severity":"FATAL","stack":"error: password authentication failed for user \"username\"\n    at C:\\Users\\rog\\Downloads\\bot-system\\bot-upgrade-v2\\telegram-bot\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at async connectDatabase (C:\\Users\\rog\\Downloads\\bot-system\\bot-upgrade-v2\\telegram-bot\\src\\core\\database.ts:19:20)\n    at async init (C:\\Users\\rog\\Downloads\\bot-system\\bot-upgrade-v2\\telegram-bot\\src\\index.ts:122:5)","timestamp":"2026-02-11T07:46:29.850Z"}
[32minfo[39m: Connected to Redis {"label":"Redis","timestamp":"2026-02-11T07:46:29.852Z"}
[32minfo[39m: Loaded command: admin/delsticker.ts {"label":"Main","timestamp":"2026-02-11T07:46:29.860Z"}
[32minfo[39m: Loaded command: admin/demote.ts {"label":"Main","timestamp":"2026-02-11T07:46:29.864Z"}
[32minfo[39m: Loaded command: admin/invitelink.ts {"label":"Main","timestamp":"2026-02-11T07:46:29.868Z"}
[32minfo[39m: Loaded command: admin/promote.ts {"label":"Main","timestamp":"2026-02-11T07:46:29.872Z"}
[32minfo[39m: Loaded command: admin/setdesc.ts {"label":"Main","timestamp":"2026-02-11T07:46:29.876Z"}
[32minfo[39m: Loaded command: admin/setgpic.ts {"label":"Main","timestamp":"2026-02-11T07:46:29.880Z"}
[32minfo[39m: Loaded command: admin/setgtitle.ts {"label":"Main","timestamp":"2026-02-11T07:46:29.884Z"}
[32minfo[39m: Loaded command: admin/setlog.ts {"label":"Main","timestamp":"2026-02-11T07:46:29.887Z"}
[32minfo[39m: Loaded command: admin/setsticker.ts {"label":"Main","timestamp":"2026-02-11T07:46:29.891Z"}
[32minfo[39m: Loaded command: admin/title.ts {"label":"Main","timestamp":"2026-02-11T07:46:29.895Z"}
[32minfo[39m: Loaded command: admin/unsetlog.ts {"label":"Main","timestamp":"2026-02-11T07:46:29.898Z"}
[32minfo[39m: OpenRouter initialized successfully {"label":"AI","timestamp":"2026-02-11T07:46:30.458Z"}
[32minfo[39m: Ollama initialized successfully {"label":"AI","timestamp":"2026-02-11T07:46:30.458Z"}
[32minfo[39m: Loaded command: ai/chat.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.459Z"}
[32minfo[39m: Loaded command: antispam/addblacklist.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.463Z"}
[32minfo[39m: Loaded command: antispam/antiraid.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.467Z"}
[32minfo[39m: Loaded command: antispam/blacklist.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.471Z"}
[32minfo[39m: Loaded command: antispam/blacklistmode.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.495Z"}
[32minfo[39m: Loaded command: antispam/captchakick.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.500Z"}
[32minfo[39m: Loaded command: antispam/captchamode.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.503Z"}
[32minfo[39m: Loaded command: antispam/captchatext.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.506Z"}
[32minfo[39m: Loaded command: antispam/flood.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.508Z"}
[32minfo[39m: Loaded command: antispam/lock.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.511Z"}
[32minfo[39m: Loaded command: antispam/locks.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.514Z"}
[32minfo[39m: Loaded command: antispam/locktypes.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.518Z"}
[32minfo[39m: Loaded command: antispam/setantiraid.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.520Z"}
[32minfo[39m: Loaded command: antispam/setcaptcha.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.523Z"}
[32minfo[39m: Loaded command: antispam/setflood.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.527Z"}
[32minfo[39m: Loaded command: antispam/setfloodmode.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.530Z"}
[32minfo[39m: Loaded command: antispam/unblacklist.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.533Z"}
[32minfo[39m: Loaded command: antispam/unlock.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.536Z"}
[32minfo[39m: Loaded command: content/clear.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.540Z"}
[32minfo[39m: Loaded command: content/clearall.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.544Z"}
[32minfo[39m: Loaded command: content/clearrules.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.548Z"}
[32minfo[39m: Loaded command: content/filter.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.551Z"}
[32minfo[39m: Loaded command: content/filters.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.554Z"}
[32minfo[39m: Loaded command: content/get.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.557Z"}
[32minfo[39m: Loaded command: content/notes.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.560Z"}
[32minfo[39m: Loaded command: content/privaterules.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.563Z"}
[32minfo[39m: Loaded command: content/rules.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.566Z"}
[32minfo[39m: Loaded command: content/save.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.568Z"}
[32minfo[39m: Loaded command: content/setrules.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.571Z"}
[32minfo[39m: Loaded command: content/stop.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.574Z"}
[32minfo[39m: Loaded command: content/stopall.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.577Z"}
[32minfo[39m: Loaded command: federation/chatfed.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.581Z"}
[32minfo[39m: Loaded command: federation/delfed.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.584Z"}
[32minfo[39m: Loaded command: federation/fban.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.587Z"}
[32minfo[39m: Loaded command: federation/fedadmins.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.590Z"}
[32minfo[39m: Loaded command: federation/fedbanlist.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.592Z"}
[32minfo[39m: Loaded command: federation/feddemote.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.595Z"}
[32minfo[39m: Loaded command: federation/fedinfo.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.598Z"}
[32minfo[39m: Loaded command: federation/fednotif.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.601Z"}
[32minfo[39m: Loaded command: federation/fedpromote.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.604Z"}
[32minfo[39m: Loaded command: federation/frename.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.607Z"}
[32minfo[39m: Loaded command: federation/joinfed.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.610Z"}
[32minfo[39m: Loaded command: federation/leavefed.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.613Z"}
[32minfo[39m: Loaded command: federation/myfeds.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.616Z"}
[32minfo[39m: Loaded command: federation/newfed.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.619Z"}
[32minfo[39m: Loaded command: federation/unfban.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.622Z"}
[32minfo[39m: Loaded command: fun/hug.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.626Z"}
[32minfo[39m: Loaded command: fun/pat.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.629Z"}
[32minfo[39m: Loaded command: fun/roll.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.632Z"}
[32minfo[39m: Loaded command: fun/runs.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.635Z"}
[32minfo[39m: Loaded command: fun/slap.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.637Z"}
[32minfo[39m: Loaded command: greetings/cleanservice.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.641Z"}
[32minfo[39m: Loaded command: greetings/cleanwelcome.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.645Z"}
[32minfo[39m: Loaded command: greetings/goodbye.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.649Z"}
[32minfo[39m: Loaded command: greetings/resetgoodbye.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.652Z"}
[32minfo[39m: Loaded command: greetings/resetwelcome.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.654Z"}
[32minfo[39m: Loaded command: greetings/setgoodbye.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.658Z"}
[32minfo[39m: Loaded command: greetings/setwelcome.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.660Z"}
[32minfo[39m: Loaded command: greetings/welcome.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.663Z"}
[32minfo[39m: Loaded command: greetings/welcomemute.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.666Z"}
[32minfo[39m: Loaded command: greetings/welcomemutehelp.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.669Z"}
[32minfo[39m: Loaded command: moderation/adminlist.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.672Z"}
[32minfo[39m: Loaded command: moderation/ban.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.675Z"}
[32minfo[39m: Loaded command: moderation/kick.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.679Z"}
[32minfo[39m: Loaded command: moderation/mute.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.682Z"}
[32minfo[39m: Loaded command: moderation/pin.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.685Z"}
[32minfo[39m: Loaded command: moderation/pinned.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.688Z"}
[32minfo[39m: Loaded command: moderation/purge.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.691Z"}
[32minfo[39m: Loaded command: moderation/purgefrom.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.694Z"}
[32minfo[39m: Loaded command: moderation/report.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.697Z"}
[32minfo[39m: Loaded command: moderation/resetwarns.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.701Z"}
[32minfo[39m: Loaded command: moderation/setwarnlimit.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.704Z"}
[32minfo[39m: Loaded command: moderation/setwarnmode.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.708Z"}
[32minfo[39m: Loaded command: moderation/slowmode.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.710Z"}
[32minfo[39m: Loaded command: moderation/spurge.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.713Z"}
[32minfo[39m: Loaded command: moderation/unban.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.716Z"}
[32minfo[39m: Loaded command: moderation/unmute.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.720Z"}
[32minfo[39m: Loaded command: moderation/unpin.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.723Z"}
[32minfo[39m: Loaded command: moderation/unpinall.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.726Z"}
[32minfo[39m: Loaded command: moderation/unwarn.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.729Z"}
[32minfo[39m: Loaded command: moderation/warn.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.733Z"}
[32minfo[39m: Loaded command: moderation/warns.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.735Z"}
[32minfo[39m: Loaded command: moderation/zombies.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.738Z"}
[32minfo[39m: Loaded command: utility/allowconnect.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.742Z"}
[32minfo[39m: Loaded command: utility/connect.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.745Z"}
[32minfo[39m: Loaded command: utility/connection.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.748Z"}
[32minfo[39m: Loaded command: utility/disconnect.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.751Z"}
[32minfo[39m: Loaded command: utility/help.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.754Z"}
[32minfo[39m: Loaded command: utility/id.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.757Z"}
[32minfo[39m: Loaded command: utility/info.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.760Z"}
[32minfo[39m: Loaded command: utility/ping.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.764Z"}
[32minfo[39m: Loaded command: utility/settings.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.767Z"}
[32minfo[39m: Loaded command: utility/start.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.770Z"}
[32minfo[39m: Loaded command: utility/stats.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.774Z"}
[32minfo[39m: Loaded handler: messageHandler.ts {"label":"Main","timestamp":"2026-02-11T07:46:30.777Z"}
[32minfo[39m: Telegram bot started successfully {"label":"Main","timestamp":"2026-02-11T07:46:30.790Z"}
[31merror[39m: Unhandled promise rejection: Call to 'getMe' failed! (404: Not Found) {"description":"Not Found","error_code":404,"label":"Main","method":"getMe","name":"GrammyError","ok":false,"parameters":{},"payload":{},"stack":"GrammyError: Call to 'getMe' failed! (404: Not Found)\n    at toGrammyError (C:\\Users\\rog\\Downloads\\bot-system\\bot-upgrade-v2\\telegram-bot\\node_modules\\grammy\\out\\core\\error.js:47:12)\n    at ApiClient.callApi (C:\\Users\\rog\\Downloads\\bot-system\\bot-upgrade-v2\\telegram-bot\\node_modules\\grammy\\out\\core\\client.js:97:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at async withRetries (C:\\Users\\rog\\Downloads\\bot-system\\bot-upgrade-v2\\telegram-bot\\node_modules\\grammy\\out\\bot.js:522:41)\n    at async Bot.init (C:\\Users\\rog\\Downloads\\bot-system\\bot-upgrade-v2\\telegram-bot\\node_modules\\grammy\\out\\bot.js:168:22)\n    at async Object.supply (C:\\Users\\rog\\Downloads\\bot-system\\bot-upgrade-v2\\telegram-bot\\node_modules\\@grammyjs\\runner\\out\\runner.js:31:17)\n    at async worker (C:\\Users\\rog\\Downloads\\bot-system\\bot-upgrade-v2\\telegram-bot\\node_modules\\@grammyjs\\runner\\out\\source.js:63:31)\n    at async runner (C:\\Users\\rog\\Downloads\\bot-system\\bot-upgrade-v2\\telegram-bot\\node_modules\\@grammyjs\\runner\\out\\runner.js:142:30)","timestamp":"2026-02-11T07:46:31.685Z"}
Terminate batch job (Y/N)? 
