
> telegram-moderation-bot@2.0.0 dev
> tsx watch src/index.ts

[32minfo[39m: Initializing Telegram bot... {"label":"Main","timestamp":"2026-02-11T07:40:26.500Z"}
[33mwarn[39m: Failed to connect to database â€” running without database: SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string {"label":"Database","stack":"Error: SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string\n    at C:\\Users\\rog\\Downloads\\bot-system\\bot-upgrade-v2\\telegram-bot\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at async connectDatabase (C:\\Users\\rog\\Downloads\\bot-system\\bot-upgrade-v2\\telegram-bot\\src\\core\\database.ts:19:20)\n    at async init (C:\\Users\\rog\\Downloads\\bot-system\\bot-upgrade-v2\\telegram-bot\\src\\index.ts:122:5)","timestamp":"2026-02-11T07:40:26.543Z"}
[32minfo[39m: Connected to Redis {"label":"Redis","timestamp":"2026-02-11T07:40:26.545Z"}
[32minfo[39m: Loaded command: admin/delsticker.ts {"label":"Main","timestamp":"2026-02-11T07:40:26.552Z"}
[32minfo[39m: Loaded command: admin/demote.ts {"label":"Main","timestamp":"2026-02-11T07:40:26.556Z"}
[32minfo[39m: Loaded command: admin/invitelink.ts {"label":"Main","timestamp":"2026-02-11T07:40:26.560Z"}
[32minfo[39m: Loaded command: admin/promote.ts {"label":"Main","timestamp":"2026-02-11T07:40:26.564Z"}
[32minfo[39m: Loaded command: admin/setdesc.ts {"label":"Main","timestamp":"2026-02-11T07:40:26.567Z"}
[32minfo[39m: Loaded command: admin/setgpic.ts {"label":"Main","timestamp":"2026-02-11T07:40:26.570Z"}
[32minfo[39m: Loaded command: admin/setgtitle.ts {"label":"Main","timestamp":"2026-02-11T07:40:26.574Z"}
[32minfo[39m: Loaded command: admin/setlog.ts {"label":"Main","timestamp":"2026-02-11T07:40:26.577Z"}
[32minfo[39m: Loaded command: admin/setsticker.ts {"label":"Main","timestamp":"2026-02-11T07:40:26.580Z"}
[32minfo[39m: Loaded command: admin/title.ts {"label":"Main","timestamp":"2026-02-11T07:40:26.583Z"}
[32minfo[39m: Loaded command: admin/unsetlog.ts {"label":"Main","timestamp":"2026-02-11T07:40:26.586Z"}
[32minfo[39m: OpenRouter initialized successfully {"label":"AI","timestamp":"2026-02-11T07:40:27.083Z"}
[32minfo[39m: Ollama initialized successfully {"label":"AI","timestamp":"2026-02-11T07:40:27.084Z"}
[32minfo[39m: Loaded command: ai/chat.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.084Z"}
[32minfo[39m: Loaded command: antispam/addblacklist.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.088Z"}
[32minfo[39m: Loaded command: antispam/antiraid.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.092Z"}
[32minfo[39m: Loaded command: antispam/blacklist.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.095Z"}
[32minfo[39m: Loaded command: antispam/blacklistmode.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.099Z"}
[32minfo[39m: Loaded command: antispam/captchakick.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.116Z"}
[32minfo[39m: Loaded command: antispam/captchamode.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.120Z"}
[32minfo[39m: Loaded command: antispam/captchatext.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.123Z"}
[32minfo[39m: Loaded command: antispam/flood.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.126Z"}
[32minfo[39m: Loaded command: antispam/lock.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.129Z"}
[32minfo[39m: Loaded command: antispam/locks.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.131Z"}
[32minfo[39m: Loaded command: antispam/locktypes.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.134Z"}
[32minfo[39m: Loaded command: antispam/setantiraid.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.137Z"}
[32minfo[39m: Loaded command: antispam/setcaptcha.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.140Z"}
[32minfo[39m: Loaded command: antispam/setflood.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.143Z"}
[32minfo[39m: Loaded command: antispam/setfloodmode.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.146Z"}
[32minfo[39m: Loaded command: antispam/unblacklist.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.149Z"}
[32minfo[39m: Loaded command: antispam/unlock.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.152Z"}
[32minfo[39m: Loaded command: content/clear.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.156Z"}
[32minfo[39m: Loaded command: content/clearall.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.158Z"}
[32minfo[39m: Loaded command: content/clearrules.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.161Z"}
[32minfo[39m: Loaded command: content/filter.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.164Z"}
[32minfo[39m: Loaded command: content/filters.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.167Z"}
[32minfo[39m: Loaded command: content/get.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.170Z"}
[32minfo[39m: Loaded command: content/notes.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.173Z"}
[32minfo[39m: Loaded command: content/privaterules.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.176Z"}
[32minfo[39m: Loaded command: content/rules.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.178Z"}
[32minfo[39m: Loaded command: content/save.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.180Z"}
[32minfo[39m: Loaded command: content/setrules.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.183Z"}
[32minfo[39m: Loaded command: content/stop.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.185Z"}
[32minfo[39m: Loaded command: content/stopall.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.188Z"}
[32minfo[39m: Loaded command: federation/chatfed.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.190Z"}
[32minfo[39m: Loaded command: federation/delfed.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.193Z"}
[32minfo[39m: Loaded command: federation/fban.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.196Z"}
[32minfo[39m: Loaded command: federation/fedadmins.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.199Z"}
[32minfo[39m: Loaded command: federation/fedbanlist.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.202Z"}
[32minfo[39m: Loaded command: federation/feddemote.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.204Z"}
[32minfo[39m: Loaded command: federation/fedinfo.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.207Z"}
[32minfo[39m: Loaded command: federation/fednotif.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.209Z"}
[32minfo[39m: Loaded command: federation/fedpromote.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.212Z"}
[32minfo[39m: Loaded command: federation/frename.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.214Z"}
[32minfo[39m: Loaded command: federation/joinfed.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.217Z"}
[32minfo[39m: Loaded command: federation/leavefed.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.220Z"}
[32minfo[39m: Loaded command: federation/myfeds.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.222Z"}
[32minfo[39m: Loaded command: federation/newfed.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.225Z"}
[32minfo[39m: Loaded command: federation/unfban.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.228Z"}
[32minfo[39m: Loaded command: fun/hug.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.230Z"}
[32minfo[39m: Loaded command: fun/pat.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.233Z"}
[32minfo[39m: Loaded command: fun/roll.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.236Z"}
[32minfo[39m: Loaded command: fun/runs.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.238Z"}
[32minfo[39m: Loaded command: fun/slap.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.241Z"}
[32minfo[39m: Loaded command: greetings/cleanservice.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.244Z"}
[32minfo[39m: Loaded command: greetings/cleanwelcome.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.247Z"}
[32minfo[39m: Loaded command: greetings/goodbye.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.250Z"}
[32minfo[39m: Loaded command: greetings/resetgoodbye.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.253Z"}
[32minfo[39m: Loaded command: greetings/resetwelcome.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.256Z"}
[32minfo[39m: Loaded command: greetings/setgoodbye.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.258Z"}
[32minfo[39m: Loaded command: greetings/setwelcome.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.261Z"}
[32minfo[39m: Loaded command: greetings/welcome.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.264Z"}
[32minfo[39m: Loaded command: greetings/welcomemute.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.266Z"}
[32minfo[39m: Loaded command: greetings/welcomemutehelp.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.269Z"}
[32minfo[39m: Loaded command: moderation/adminlist.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.272Z"}
[32minfo[39m: Loaded command: moderation/ban.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.275Z"}
[32minfo[39m: Loaded command: moderation/kick.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.278Z"}
[32minfo[39m: Loaded command: moderation/mute.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.280Z"}
[32minfo[39m: Loaded command: moderation/pin.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.283Z"}
[32minfo[39m: Loaded command: moderation/pinned.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.285Z"}
[32minfo[39m: Loaded command: moderation/purge.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.288Z"}
[32minfo[39m: Loaded command: moderation/purgefrom.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.291Z"}
[32minfo[39m: Loaded command: moderation/report.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.294Z"}
[32minfo[39m: Loaded command: moderation/resetwarns.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.297Z"}
[32minfo[39m: Loaded command: moderation/setwarnlimit.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.300Z"}
[32minfo[39m: Loaded command: moderation/setwarnmode.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.303Z"}
[32minfo[39m: Loaded command: moderation/slowmode.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.306Z"}
[32minfo[39m: Loaded command: moderation/spurge.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.309Z"}
[32minfo[39m: Loaded command: moderation/unban.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.311Z"}
[32minfo[39m: Loaded command: moderation/unmute.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.314Z"}
[32minfo[39m: Loaded command: moderation/unpin.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.317Z"}
[32minfo[39m: Loaded command: moderation/unpinall.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.319Z"}
[32minfo[39m: Loaded command: moderation/unwarn.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.322Z"}
[32minfo[39m: Loaded command: moderation/warn.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.325Z"}
[32minfo[39m: Loaded command: moderation/warns.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.327Z"}
[32minfo[39m: Loaded command: moderation/zombies.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.329Z"}
[32minfo[39m: Loaded command: utility/allowconnect.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.332Z"}
[32minfo[39m: Loaded command: utility/connect.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.335Z"}
[32minfo[39m: Loaded command: utility/connection.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.337Z"}
[32minfo[39m: Loaded command: utility/disconnect.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.340Z"}
[32minfo[39m: Loaded command: utility/help.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.343Z"}
[32minfo[39m: Loaded command: utility/id.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.345Z"}
[32minfo[39m: Loaded command: utility/info.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.348Z"}
[32minfo[39m: Loaded command: utility/ping.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.350Z"}
[32minfo[39m: Loaded command: utility/settings.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.353Z"}
[32minfo[39m: Loaded command: utility/start.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.356Z"}
[32minfo[39m: Loaded command: utility/stats.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.358Z"}
[32minfo[39m: Loaded handler: messageHandler.ts {"label":"Main","timestamp":"2026-02-11T07:40:27.361Z"}
[32minfo[39m: Telegram bot started successfully {"label":"Main","timestamp":"2026-02-11T07:40:27.373Z"}
[31merror[39m: Unhandled promise rejection: Call to 'getMe' failed! (404: Not Found) {"description":"Not Found","error_code":404,"label":"Main","method":"getMe","name":"GrammyError","ok":false,"parameters":{},"payload":{},"stack":"GrammyError: Call to 'getMe' failed! (404: Not Found)\n    at toGrammyError (C:\\Users\\rog\\Downloads\\bot-system\\bot-upgrade-v2\\telegram-bot\\node_modules\\grammy\\out\\core\\error.js:47:12)\n    at ApiClient.callApi (C:\\Users\\rog\\Downloads\\bot-system\\bot-upgrade-v2\\telegram-bot\\node_modules\\grammy\\out\\core\\client.js:97:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at async withRetries (C:\\Users\\rog\\Downloads\\bot-system\\bot-upgrade-v2\\telegram-bot\\node_modules\\grammy\\out\\bot.js:522:41)\n    at async Bot.init (C:\\Users\\rog\\Downloads\\bot-system\\bot-upgrade-v2\\telegram-bot\\node_modules\\grammy\\out\\bot.js:168:22)\n    at async Object.supply (C:\\Users\\rog\\Downloads\\bot-system\\bot-upgrade-v2\\telegram-bot\\node_modules\\@grammyjs\\runner\\out\\runner.js:31:17)\n    at async worker (C:\\Users\\rog\\Downloads\\bot-system\\bot-upgrade-v2\\telegram-bot\\node_modules\\@grammyjs\\runner\\out\\source.js:63:31)\n    at async runner (C:\\Users\\rog\\Downloads\\bot-system\\bot-upgrade-v2\\telegram-bot\\node_modules\\@grammyjs\\runner\\out\\runner.js:142:30)","timestamp":"2026-02-11T07:40:28.274Z"}
Terminate batch job (Y/N)? 
